var te=Object.defineProperty,oe=Object.defineProperties;var ne=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var ae=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable;var M=(e,t,n)=>t in e?te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E=(e,t)=>{for(var n in t||(t={}))ae.call(t,n)&&M(e,n,t[n]);if(I)for(var n of I(t))re.call(t,n)&&M(e,n,t[n]);return e},K=(e,t)=>oe(e,ne(t));var X=(e,t,n)=>new Promise((C,f)=>{var $=r=>{try{l(n.next(r))}catch(h){f(h)}},p=r=>{try{l(n.throw(r))}catch(h){f(h)}},l=r=>r.done?C(r.value):Promise.resolve(r.value).then($,p);l((n=n.apply(e,t)).next())});import{a as J,l as se,_ as L,a8 as ie,a9 as le,aa as ce,p as d,ab as U}from"./index.c0a3bc85.js";import{A as Z,B as W,D as N,H as V,a6 as b,K as j,X as q,_ as ge,$ as T,bi as ue,z as B,u as H,bj as fe,S as G,bk as de,R as pe,y as v,o as O,a0 as Q,a1 as Y,aC as he,ao as me,a5 as z,aB as He,aR as Ce,aa as $e,ad as Fe,J as be,a4 as ve,ac as x}from"./vendor.52d192f7.js";/* empty css               *//* empty css               */import{u as ye}from"./useWindowSizeFn.34f605a6.js";import{a as Pe}from"./useContentViewHeight.26794800.js";const _e=Z({name:"PageFooter",inheritAttrs:!1,setup(){const{prefixCls:e}=J("page-footer"),{getCalcContentWidth:t}=se();return{prefixCls:e,getCalcContentWidth:t}}});function Se(e,t,n,C,f,$){return W(),N("div",{class:j(e.prefixCls),style:q({width:e.getCalcContentWidth})},[V("div",{class:j(`${e.prefixCls}__left`)},[b(e.$slots,"left",{},void 0,!0)],2),b(e.$slots,"default",{},void 0,!0),V("div",{class:j(`${e.prefixCls}__right`)},[b(e.$slots,"right",{},void 0,!0)],2)],6)}var ee=L(_e,[["render",Se],["__scopeId","data-v-2c113217"]]);function Re(e){let t;ge(()=>{e(),T(()=>{t=!0})}),ue(()=>{t&&e()})}function Be(e,t,n,C,f=0,$=B(0)){const p=B(null),{footerHeightRef:l}=Pe();let r={useLayoutFooter:!0};const h=a=>{r=a};function A(){T(()=>{S()})}function y(a,R="all"){var u,P,F,w;function m(o){return Number(o.replace(/[^\d]/g,""))}let g=0;const s="0px";if(a){const o=getComputedStyle(a),c=m((u=o==null?void 0:o.marginTop)!=null?u:s),i=m((P=o==null?void 0:o.marginBottom)!=null?P:s),k=m((F=o==null?void 0:o.paddingTop)!=null?F:s),D=m((w=o==null?void 0:o.paddingBottom)!=null?w:s);R==="all"?(g+=c,g+=i,g+=k,g+=D):R==="top"?(g+=c,g+=k):(g+=i,g+=D)}return g}function _(a){return a==null?null:a instanceof HTMLDivElement?a:a.$el}function S(){return X(this,null,function*(){var w;if(!e.value)return;yield T();const a=_(H(t));if(!a)return;const{bottomIncludeBody:R}=ie(a);let m=0;n.forEach(o=>{var c,i;m+=(i=(c=_(H(o)))==null?void 0:c.offsetHeight)!=null?i:0});let g=(w=y(a))!=null?w:0;C.forEach(o=>{g+=y(_(H(o)))});let s=0;function u(o,c){if(o&&c){const i=o.parentElement;i&&(le(c)?i.classList.contains(c)?s+=y(i,"bottom"):(s+=y(i,"bottom"),u(i,c)):ce(c)&&c>0&&(s+=y(i,"bottom"),u(i,--c)))}}fe(f)?u(a,H(f)):u(a,f);let P=R-H(l)-H($)-m-g-s;const F=()=>{var o;(o=r.elements)==null||o.forEach(c=>{var i,k;P+=(k=(i=_(H(c)))==null?void 0:i.offsetHeight)!=null?k:0})};r.useLayoutFooter&&H(l)>0,F(),p.value=P})}return Re(()=>{T(()=>{S()})}),ye(()=>{S()},50,{immediate:!0}),G(()=>[l.value],()=>{S()},{flush:"post",immediate:!0}),{redoHeight:A,setCompensation:h,contentHeight:p}}const we=Z({name:"PageWrapper",components:{PageFooter:ee,PageHeader:de},inheritAttrs:!1,props:{title:d.string,dense:d.bool,ghost:d.bool,content:d.string,contentStyle:{type:Object},contentBackground:d.bool,contentFullHeight:d.bool,contentClass:d.string,fixedHeight:d.bool,upwardSpace:d.oneOfType([d.number,d.string]).def(0)},setup(e,{slots:t,attrs:n}){const C=B(null),f=B(null),$=B(null),p=B(null),{prefixCls:l}=J("page-wrapper");pe(je,v(()=>e.fixedHeight));const r=v(()=>e.contentFullHeight),h=v(()=>e.upwardSpace),{redoHeight:A,setCompensation:y,contentHeight:_}=Be(r,C,[f,p],[$],h);y({useLayoutFooter:!0,elements:[p]});const S=v(()=>{var s;return[l,{[`${l}--dense`]:e.dense},(s=n.class)!=null?s:{}]}),a=v(()=>(t==null?void 0:t.leftFooter)||(t==null?void 0:t.rightFooter)),R=v(()=>Object.keys(O(t,"default","leftFooter","rightFooter","headerContent"))),m=v(()=>{const{contentFullHeight:s,contentStyle:u,fixedHeight:P}=e;if(!s)return E({},u);const F=`${H(_)}px`;return E(K(E({},u),{minHeight:F}),P?{height:F}:{})}),g=v(()=>{const{contentBackground:s,contentClass:u}=e;return[`${l}-content`,u,{[`${l}-content-bg`]:s}]});return G(()=>[a.value],()=>{A()},{flush:"post",immediate:!0}),{getContentStyle:m,wrapperRef:C,headerRef:f,contentRef:$,footerRef:p,getClass:S,getHeaderSlots:R,prefixCls:l,getShowFooter:a,omit:O,getContentClass:g}}});function ke(e,t,n,C,f,$){const p=Q("PageHeader"),l=Q("PageFooter");return W(),N("div",{class:j(e.getClass),ref:"wrapperRef"},[e.content||e.$slots.headerContent||e.title||e.getHeaderSlots.length?(W(),Y(p,ve({key:0,ghost:e.ghost,title:e.title},e.omit(e.$attrs,"class"),{ref:"headerRef"}),he({default:z(()=>[e.content?(W(),N($e,{key:0},[Fe(be(e.content),1)],64)):b(e.$slots,"headerContent",{key:1})]),_:2},[me(e.getHeaderSlots,r=>({name:r,fn:z(h=>[b(e.$slots,r,He(Ce(h||{})))])}))]),1040,["ghost","title"])):x("",!0),V("div",{class:j(["overflow-hidden",e.getContentClass]),style:q(e.getContentStyle),ref:"contentRef"},[b(e.$slots,"default")],6),e.getShowFooter?(W(),Y(l,{key:1,ref:"footerRef"},{left:z(()=>[b(e.$slots,"leftFooter")]),right:z(()=>[b(e.$slots,"rightFooter")]),_:3},512)):x("",!0)],2)}var We=L(we,[["render",ke]]);U(ee);const Ie=U(We),je="PageWrapperFixedHeight";export{Ie as P,je as a,Re as o};
